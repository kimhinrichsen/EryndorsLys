/* Basal reset for de nye elementer (juster hvis du har andet globalt) */
#chronicle-book-wrapper {
  margin-top: 4rem;
  display: flex;
  justify-content: center;
  padding: 2rem 1rem 5rem;
  background: linear-gradient(180deg, rgba(15,18,25,0) 0%, rgba(15,18,25,0.6) 30%, rgba(15,18,25,0.85) 100%);
  position: relative;
  scroll-margin-top: 80px;
}

#chronicle-book-wrapper::before {
  content: "";
  position: absolute;
  inset: 0;
  background:
    radial-gradient(circle at 50% 10%, rgba(255,255,255,0.08), transparent 65%),
    radial-gradient(circle at 20% 80%, rgba(255,255,255,0.06), transparent 70%);
  opacity: .7;
  pointer-events: none;
}

.chron-book {
  position: relative;
  display: flex;
  max-width: 1400px;
  width: 100%;
  min-height: 640px;
  filter: drop-shadow(0 10px 18px rgba(0,0,0,0.55));
  font-family: system-ui, Arial, sans-serif;
}

/* Bogens "spine" og cover */
.chron-book-cover {
  width: 220px;
  background: linear-gradient(160deg, #2d2a24 0%, #1f1c17 80%);
  border: 2px solid #3d352b;
  border-right: none;
  border-radius: 14px 0 0 14px;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 14px;
  box-shadow: inset 0 0 18px rgba(0,0,0,0.6);
}

.chron-book-cover-inner {
  text-align: center;
  color: #e3d4b6;
  font-weight: 600;
  letter-spacing: .5px;
}

.chron-book-title {
  font-size: 1.3rem;
  display: flex;
  flex-direction: column;
  gap: .35rem;
  align-items: center;
  text-shadow: 0 2px 4px rgba(0,0,0,.5);
}

.chron-book-icon {
  font-size: 2.2rem;
  filter: drop-shadow(0 2px 4px rgba(0,0,0,.35));
}

.chron-book-sub {
  margin-top: .6rem;
  font-size: .8rem;
  opacity: .85;
  font-weight: 400;
  letter-spacing: 1px;
  text-transform: uppercase;
}

.chron-book-spine {
  width: 18px;
  background: repeating-linear-gradient(180deg, #3b3228 0 6px, #31281f 6px 12px);
  border-top: 2px solid #3d352b;
  border-bottom: 2px solid #3d352b;
  border-left: 2px solid #3d352b;
  box-shadow: inset 0 0 10px rgba(0,0,0,.6);
  border-radius: 0;
  position: relative;
}

.chron-book-pages {
  flex: 1;
  background:
    linear-gradient(90deg, rgba(255,255,255,0.06) 0 1px, transparent 1px 100%),
    linear-gradient(180deg, #fdfaf5 0%, #f2ebdf 100%);
  background-size: 3px 100%, 100% 100%;
  position: relative;
  padding: 1.8rem 2.2rem;
  border: 2px solid #d2c4af;
  border-left: none;
  border-radius: 0 14px 14px 0;
  color: #2c241b;
  overflow: hidden;
}

.chron-book-pages::before {
  content: "";
  position: absolute;
  inset: 0;
  background:
    linear-gradient(90deg, rgba(0,0,0,.15), rgba(0,0,0,0) 14%, rgba(0,0,0,0));
  pointer-events: none;
  mix-blend-mode: multiply;
  opacity: .45;
}

.chron-page-grid {
  display: grid;
  gap: 1.8rem;
  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
  align-content: start;
}

.chron-page h2 {
  margin: 0 0 .75rem;
  font-size: 1.15rem;
  font-weight: 700;
  letter-spacing: .5px;
  color: #3d2d20;
  text-shadow: 0 1px 1px #fff;
}

.chron-page {
  background: linear-gradient(180deg, #ffffffde, #f3ebdf);
  border: 1px solid #c8b79f;
  border-radius: 10px;
  padding: 1rem 1.1rem 1.2rem;
  box-shadow: 0 4px 10px rgba(0,0,0,0.08), inset 0 0 0 1px #efe5d7;
  position: relative;
  overflow: hidden;
}

.chron-page::after {
  content: "";
  position: absolute;
  inset: 0;
  background:
    radial-gradient(circle at 85% 15%, rgba(255,255,255,.6), transparent 60%),
    linear-gradient(120deg, transparent 0 70%, rgba(255,255,255,0.35));
  mix-blend-mode: screen;
  pointer-events: none;
  opacity: .7;
}

/* Stats sektion */
.chron-stats-summary {
  display: flex;
  gap: 1.4rem;
  flex-wrap: wrap;
  font-size: .9rem;
  margin-bottom: .9rem;
}

.chron-stats-grid {
  display: flex;
  gap: .9rem;
  flex-wrap: wrap;
}

.chron-stat-card {
  background: #f9f3ea;
  border: 1px solid #d3c3ad;
  border-radius: 8px;
  padding: .55rem .7rem .65rem;
  min-width: 120px;
  font-size: .75rem;
  line-height: 1.15rem;
  box-shadow: 0 2px 4px rgba(0,0,0,0.06);
}
.chron-stat-title {
  font-weight: 600;
  margin-bottom: .25rem;
  font-size: .8rem;
  color: #3b2a1d;
}
.chron-stat-line span { opacity:.7; }

/* Achievements */
.chron-ach-block h3 {
  margin: .3rem 0 .5rem;
  font-size: .9rem;
  color: #402f21;
}
.chron-ach-grid {
  display:flex;
  flex-wrap:wrap;
  gap:.6rem;
}
.chron-ach-item {
  background:#f9f3ea;
  border:1px solid #d0c0ac;
  border-radius:8px;
  padding:.55rem .65rem;
  width:160px;
  font-size:.68rem;
  display:flex;
  flex-direction:column;
  gap:.35rem;
  position:relative;
}
.chron-ach-item--unlocked {
  background:#ecf6ed;
  border-color:#9fc5a4;
}
.chron-ach-title { font-weight:600; letter-spacing:.3px; }
.chron-ach-desc { opacity:.85; }
.chron-ach-status {
  position:absolute;
  top:6px;
  right:8px;
  font-weight:700;
  font-size:.7rem;
  color:#30753a;
}
.chron-ach-item:not(.chron-ach-item--unlocked) .chron-ach-status {
  color:#888;
}

/* Completed Quests */
.chron-quests-tablewrap { max-height:280px; overflow:auto; border:1px solid #e1d5c4; border-radius:6px; background:#fff; }
.chron-quests-table { width:100%; border-collapse:collapse; font-size:.65rem; }
.chron-quests-table th {
  text-align:left; background:#efe4d3; padding:4px 6px; position:sticky; top:0; font-weight:600;
  font-size:.64rem; letter-spacing:.4px; z-index:2;
}
.chron-quests-table td { padding:4px 6px; border-top:1px solid #eadccb; }
.chron-quests-table td.num { text-align:right; font-variant-numeric: tabular-nums; }
.chron-quests-table tbody tr:nth-child(2n) { background:#fbf7f1; }

/* Lore */
.chron-lore-list { display:flex; flex-direction:column; gap:.8rem; max-height:300px; overflow:auto; }
.chron-lore-item {
  background:#fbf7f1;
  border:1px solid #e0d3c2;
  border-radius:8px;
  padding:.6rem .7rem .7rem;
  font-size:.68rem;
  line-height:1.05rem;
  position:relative;
}
.chron-lore-head {
  display:flex;
  justify-content:space-between;
  font-weight:600;
  margin-bottom:.35rem;
  font-size:.7rem;
}
.chron-lore-time { opacity:.55; font-weight:400; }
.chron-lore-major { font-weight:600; margin-bottom:.4rem; font-size:.7rem; color:#352519; }
.chron-lore-minor { margin:0 0 0 1.1rem; padding:0; list-style:disc; }
.chron-lore-minor li { margin:0 0 .25rem; }

/* Topbar */
.kro-topbar {
  display:flex;
  align-items:center;
  justify-content:space-between;
  background:#1c2128;
  color:#ddd;
  padding:.7rem 1rem;
  position:sticky;
  top:0;
  z-index:300;
  border-bottom:1px solid #2a3037;
}
.kro-topbar-buttons { display:flex; gap:.5rem; }

/* Knapper */
.kro-btn {
  background:#2d4f7c;
  color:#fff;
  border:1px solid #3d5f90;
  padding:.45rem .9rem;
  font-size:.75rem;
  cursor:pointer;
  border-radius:6px;
  letter-spacing:.3px;
}
.kro-btn:hover { background:#396192; }
.kro-btn-ghost {
  background:#30363d;
  border:1px solid #444c55;
  color:#cfd6de;
}
.kro-btn-ghost:hover { background:#3c444c; }

/* Achievement toast (f√¶lles) */
.kro-achievement-toast { }

/* Mentor overlay just in case */
#mentor-overlay {
  position:fixed;
  inset:0;
  display:none;
  align-items:flex-start;
  justify-content:center;
  padding-top:5vh;
  background:rgba(12,14,18,0.75);
  backdrop-filter:blur(4px);
  z-index:4000;
}
.kro-mentor-overlaybox {
  background:#1d2127;
  color:#e5e7ea;
  width:clamp(320px,70%,880px);
  max-height:85vh;
  overflow:auto;
  border:1px solid #2f363e;
  border-radius:14px;
  padding:24px 28px 32px;
  font-size:.85rem;
  position:relative;
  box-shadow:0 14px 40px rgba(0,0,0,.55);
}
.kro-mentor-overlay-header {
  display:flex;
  align-items:center;
  gap:.7rem;
  margin-bottom:.6rem;
  font-size:1.1rem;
  font-weight:600;
}
.kro-mentor-overlay-icon { font-size:1.6rem; }
.kro-mentor-background { opacity:.9; line-height:1.3rem; }
.kro-close {
  position:absolute;
  top:10px; right:12px;
  padding:.3rem .6rem;
  font-size:.8rem;
  background:#313a43;
  border:1px solid #45525e;
  color:#cfd6de;
  cursor:pointer;
}
.kro-close:hover { background:#3d4750; }

/* XP bar styling (behold eller tilpas) */
.kro-xp-bar-container {
  display:flex; align-items:center; gap:.6rem;
  padding:.6rem .8rem;
  background:#212830;
  border:1px solid #2e3741;
  border-radius:10px;
  max-width:560px;
  font-size:.75rem;
  box-shadow:0 4px 10px rgba(0,0,0,.4);
}
.kro-xp-bar {
  flex:1;
  height:10px;
  background:#39434e;
  border-radius:6px;
  overflow:hidden;
  position:relative;
}
.kro-xp-bar-fill {
  height:100%;
  background:linear-gradient(90deg,#4a7fb9,#79b5e9);
  box-shadow:0 0 8px #69a4db;
  transition:width .4s;
}
.kro-xp-bar-label { opacity:.85; font-weight:600; }
.kro-xp-emblem { font-size:1rem; }

.kro-profilbox {
  margin-top:1.2rem;
  background:#1e252c;
  border:1px solid #2d353d;
  padding:.9rem 1rem;
  border-radius:10px;
  max-width:560px;
  font-size:.8rem;
  box-shadow:0 4px 12px rgba(0,0,0,.3);
}
.kro-mentors-row {
  display:flex;
  gap:.6rem;
  flex-wrap:wrap;
  margin-top:.9rem;
}
.kro-mentorbox {
  background:#232b33;
  border:1px solid #313b45;
  border-radius:8px;
  padding:.45rem .55rem .55rem;
  display:flex;
  flex-direction:column;
  gap:.4rem;
  cursor:pointer;
  min-width:160px;
  position:relative;
  font-size:.7rem;
  box-shadow:0 3px 6px rgba(0,0,0,.25);
}
.kro-mentorbox:hover { background:#2a3440; }
.kro-mentor-main { font-weight:600; display:flex; gap:.4rem; align-items:center; }
.kro-mentor-progressbar {
  display:flex; flex-direction:column; gap:.35rem;
}
.kro-mentor-emblem { font-size:1rem; }
.kro-mentor-bar {
  height:8px;
  background:#36404a;
  border-radius:5px;
  overflow:hidden;
}
.kro-mentor-bar-fill {
  height:100%;
  background:linear-gradient(90deg,#4c8bc4,#7bc0ee);
  transition:width .4s;
}
.kro-mentor-bar-label { font-size:.65rem; opacity:.85; }

/* Quests */
.kro-questheader { margin:2.2rem 0 .8rem; font-size:1.1rem; letter-spacing:.5px; }
.kro-quests { display:flex; flex-direction:column; gap:.7rem; }
.kro-questroll {
  background:#222a33;
  border:1px solid #2d3741;
  padding:.7rem .8rem .85rem;
  border-radius:10px;
  font-size:.7rem;
  line-height:1.1rem;
  position:relative;
  box-shadow:0 4px 10px rgba(0,0,0,.25);
}
.kro-questroll b { font-size:.78rem; }
.kro-questicon {
  font-size:1.2rem;
  margin-right:.4rem;
  filter:drop-shadow(0 2px 4px rgba(0,0,0,.4));
}
.kro-questdesc { opacity:.85; margin:.35rem 0 .5rem; }
.kro-questpts { font-weight:600; font-size:.68rem; letter-spacing:.3px; margin-bottom:.35rem; }
.kro-quest-progress {
  display:flex; gap:.55rem; align-items:center; flex-wrap:wrap;
  margin-bottom:.5rem;
}
.kro-quest-actions { display:flex; gap:.5rem; flex-wrap:wrap; }

.kro-btn.kro-drop {
  background:#4a2d2d;
  border-color:#613b3b;
}
.kro-btn.kro-drop:hover { background:#5b3636; }

/* Achievement toast (f√¶rdig) */
.kro-achievement-toast strong { color:#6fcf70; }

/* Sm√• responsjusteringer */
@media (max-width: 900px) {
  .chron-book {
    flex-direction:column;
  }
  .chron-book-cover {
    flex-direction:row;
    width:100%;
    border-right:2px solid #3d352b;
    border-bottom:none;
    border-radius:14px 14px 0 0;
  }
  .chron-book-spine { display:none; }
  .chron-book-pages {
    border-left:2px solid #d2c4af;
    border-top:none;
    border-radius:0 0 14px 14px;
  }
  .chron-page-grid { grid-template-columns:1fr; }
}

/* (Valgfri) Animation keyframes placeholder */
@keyframes fadeIn { from{opacity:0} to{opacity:1} }